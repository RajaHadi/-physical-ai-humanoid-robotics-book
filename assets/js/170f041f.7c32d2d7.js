"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[4440],{1334:(i,n,e)=>{e.r(n),e.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"digital-twin/04-humanoid-modeling","title":"Humanoid Modeling in Gazebo","description":"Specific considerations for simulating humanoid robots in Gazebo, including inertia and balancing.","source":"@site/docs/digital-twin/04-humanoid-modeling.md","sourceDirName":"digital-twin","slug":"/digital-twin/04-humanoid-modeling","permalink":"/-physical-ai-humanoid-robotics-book/docs/digital-twin/04-humanoid-modeling","draft":false,"unlisted":false,"editUrl":"https://github.com/RajaHadi/-physical-ai-humanoid-robotics-book/tree/main/docs/digital-twin/04-humanoid-modeling.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"04-humanoid-modeling","title":"Humanoid Modeling in Gazebo","sidebar_label":"Humanoid Models","description":"Specific considerations for simulating humanoid robots in Gazebo, including inertia and balancing."},"sidebar":"tutorialSidebar","previous":{"title":"Sensor Simulation","permalink":"/-physical-ai-humanoid-robotics-book/docs/digital-twin/03-sensor-simulation"},"next":{"title":"Env & Interaction","permalink":"/-physical-ai-humanoid-robotics-book/docs/digital-twin/05-environment-interaction"}}');var s=e(4848),t=e(8453);const r={id:"04-humanoid-modeling",title:"Humanoid Modeling in Gazebo",sidebar_label:"Humanoid Models",description:"Specific considerations for simulating humanoid robots in Gazebo, including inertia and balancing."},a="Humanoid Modeling in Gazebo",l={},d=[{value:"Inertia and Mass Distribution",id:"inertia-and-mass-distribution",level:2},{value:"Example: Custom Inertia in URDF",id:"example-custom-inertia-in-urdf",level:3},{value:"Balancing and Stability",id:"balancing-and-stability",level:2},{value:"URDF/SDF Structure for Humanoids",id:"urdfsdf-structure-for-humanoids",level:2},{value:"Avoiding Common Pitfalls",id:"avoiding-common-pitfalls",level:2}];function c(i){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...i.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"humanoid-modeling-in-gazebo",children:"Humanoid Modeling in Gazebo"})}),"\n",(0,s.jsx)(n.p,{children:"Simulating humanoid robots presents unique challenges compared to simpler robotic systems. Their complex kinematic chains, high number of degrees of freedom, and inherent instability require careful modeling, especially concerning inertia and balancing."}),"\n",(0,s.jsx)(n.h2,{id:"inertia-and-mass-distribution",children:"Inertia and Mass Distribution"}),"\n",(0,s.jsxs)(n.p,{children:["Accurate ",(0,s.jsx)(n.strong,{children:"Inertial Tensors"})," are paramount for realistic humanoid simulation. Even small inaccuracies in mass distribution can lead to incorrect dynamics, especially in tasks involving dynamic balance or complex manipulation."]}),"\n",(0,s.jsx)(n.p,{children:"When defining links in URDF/SDF, pay close attention to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["Mass (",(0,s.jsx)(n.code,{children:"<mass>"})," tag)"]}),": The total mass of the link."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["Inertial Tensor (",(0,s.jsx)(n.code,{children:"<inertia>"})," tag)"]}),": The 3x3 matrix describing mass distribution. This is often calculated by CAD software or approximated for simple geometries."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"example-custom-inertia-in-urdf",children:"Example: Custom Inertia in URDF"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<link name="torso_link">\r\n  <inertial>\r\n    <origin xyz="0 0 0.15" rpy="0 0 0"/>\r\n    <mass value="15.0"/>\r\n    <inertia\r\n      ixx="0.45" ixy="0.0" ixz="0.0"\r\n      iyy="0.40" iyz="0.0"\r\n      izz="0.15"\r\n    />\r\n  </inertial>\r\n  <visual>\r\n    <origin xyz="0 0 0.15" rpy="0 0 0"/>\r\n    <geometry>\r\n      <box size="0.2 0.15 0.3"/>\r\n    </geometry>\r\n    <material name="blue"/>\r\n  </visual>\r\n  <collision>\r\n    <origin xyz="0 0 0.15" rpy="0 0 0"/>\r\n    <geometry>\r\n      <box size="0.2 0.15 0.3"/>\r\n    </geometry>\r\n  </collision>\r\n</link>\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"ixx"}),", ",(0,s.jsx)(n.code,{children:"iyy"}),", ",(0,s.jsx)(n.code,{children:"izz"})," values represent moments of inertia about the x, y, and z axes respectively, while ",(0,s.jsx)(n.code,{children:"ixy"}),", ",(0,s.jsx)(n.code,{children:"ixz"}),", ",(0,s.jsx)(n.code,{children:"iyz"})," represent products of inertia. For symmetric bodies or aligned coordinate systems, products of inertia are often zero."]}),"\n",(0,s.jsx)(n.h2,{id:"balancing-and-stability",children:"Balancing and Stability"}),"\n",(0,s.jsx)(n.p,{children:"Humanoid robots are inherently unstable, requiring active balance control. In simulation, achieving stable locomotion or standing often depends on:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Accurate Joint Limits"}),": Defining realistic mechanical stops for joints."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Contact Modeling"}),": Proper configuration of friction and restitution for feet-ground contact."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Controller Fidelity"}),": The control algorithms themselves must be robust to sensory noise and simulation discrepancies."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Center of Mass (CoM) Projection"}),": For static stability, the projection of the robot's CoM must remain within its support polygon (e.g., area defined by its feet). Dynamic stability involves more complex criteria."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"urdfsdf-structure-for-humanoids",children:"URDF/SDF Structure for Humanoids"}),"\n",(0,s.jsx)(n.p,{children:"Humanoid robot models typically feature:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.strong,{children:"base link"})," (often the pelvis or lower torso)."]}),"\n",(0,s.jsxs)(n.li,{children:["Multiple ",(0,s.jsx)(n.strong,{children:"kinematic chains"})," for legs, arms, and torso."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Feet links"})," with well-defined collision geometries for stable ground contact."]}),"\n",(0,s.jsxs)(n.li,{children:["Careful placement of ",(0,s.jsx)(n.strong,{children:"sensors"})," (IMUs, cameras) on appropriate links."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"avoiding-common-pitfalls",children:"Avoiding Common Pitfalls"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Self-Collision"}),": Ensure that robot parts do not excessively collide with themselves. This can be mitigated with proper collision mesh design and, if necessary, disabling collision detection between certain linked bodies."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Joint Instability"}),': "Jittery" or "exploding" joints often indicate issues with joint limits, high controller gains, or numerical instability in the physics solver. Adjusting ',(0,s.jsx)(n.code,{children:"erp"})," (error reduction parameter) and ",(0,s.jsx)(n.code,{children:"cfm"})," (constraint force mixing) in the ",(0,s.jsx)(n.code,{children:"<physics>"})," tag can sometimes help."]}),"\n"]})]})}function m(i={}){const{wrapper:n}={...(0,t.R)(),...i.components};return n?(0,s.jsx)(n,{...i,children:(0,s.jsx)(c,{...i})}):c(i)}},8453:(i,n,e)=>{e.d(n,{R:()=>r,x:()=>a});var o=e(6540);const s={},t=o.createContext(s);function r(i){const n=o.useContext(t);return o.useMemo(function(){return"function"==typeof i?i(n):{...n,...i}},[n,i])}function a(i){let n;return n=i.disableParentContext?"function"==typeof i.components?i.components(s):i.components||s:r(i.components),o.createElement(t.Provider,{value:n},i.children)}}}]);